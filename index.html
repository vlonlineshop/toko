}

function updateCart() {
  const container = document.getElementById('cart-items');
  container.innerHTML = '';
  Object.entries(cart).forEach(([key, item]) => {
    container.innerHTML += `
      <li>
        <span>${item.name} (${item.variant} - ${item.color}) x ${item.quantity} - Rp${(item.price * item.quantity).toLocaleString()}</span>
        <div>
          <button onclick="adjustQuantity('${key}', -1)">-</button>
          <button onclick="adjustQuantity('${key}', 1)">+</button>
          <button onclick="removeFromCart('${key}')">Hapus</button>
        </div>
      </li>
    `;
  });
  document.getElementById('checkout-button').disabled = Object.keys(cart).length === 0;
}

function adjustQuantity(key, amount) {
  if (cart[key]) {
    cart[key].quantity += amount;
    if (cart[key].quantity <= 0) {
      delete cart[key];
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCart();
  }
}

function removeFromCart(key) {
  delete cart[key];
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCart();
}

function toggleCartPopup() {
  const popup = document.getElementById('cart-popup');
  popup.style.display = popup.style.display === 'block' ? 'none' : 'block';
}

renderProducts();
updateCart();
</script> 
    </body>
    </html>
