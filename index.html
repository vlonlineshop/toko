<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VL Online Shop</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Segoe UI', sans-serif;
      background: #f5f7fa;
      color: #333;
    }
    header {
      background: linear-gradient(to right, #003366, #0059b3);
      color: white;
      padding: 1rem 2rem;
      text-align: center;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header h1 {
      margin: 0;
    }
    .cart-btn {
      background-color: #0059b3;
      color: white;
      padding: 0.8rem 1.2rem;
      font-size: 1rem;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 100;
    }
    .cart-btn:hover {
      background-color: #003366;
    }
    .popup-cart {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
    }
    .popup-cart-content {
      background: white;
      padding: 2rem;
      border-radius: 10px;
      width: 80%;
      max-width: 500px;
      overflow-y: auto;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    .popup-cart-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }
    .popup-cart-header h2 {
      margin: 0;
    }
    .popup-cart-header button {
      background-color: #ff4c4c;
      color: white;
      border: none;
      padding: 0.5rem;
      border-radius: 5px;
      cursor: pointer;
    }
    .popup-cart-header button:hover {
      background-color: #d43838;
    }
    .product-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .product-list li {
      display: flex;
      justify-content: space-between;
      margin-bottom: 1rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 1rem;
    }
    .product-list img {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 10px;
      margin-right: 1rem;
    }
    .popup-cart-footer {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-top: 1rem;
    }
    .popup-cart-footer button {
      padding: 1rem;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .popup-cart-footer button:hover {
      background-color: #218838;
    }
  </style>
</head>
<body>
  <header>
    <h1>VL Online Shop</h1>
  </header>

  <main>
    <!-- Konten utama lainnya disini -->
    <h2>Selamat datang di VL Online Shop!</h2>
    <p>Browse dan pilih produk favorit Anda.</p>
  </main>

  <!-- Popup Cart -->
  <div class="popup-cart" id="popup-cart">
    <div class="popup-cart-content">
      <div class="popup-cart-header">
        <h2>Keranjang Belanja</h2>
        <button id="close-popup-cart">Tutup</button>
      </div>
      <ul class="product-list" id="cart-items">
        <!-- Produk yang ada di cart akan muncul di sini -->
      </ul>
      <div class="popup-cart-footer">
        <button onclick="window.location.href='checkout.html'">Lanjut ke Checkout</button>
      </div>
    </div>
  </div>

  <!-- Tombol Cart di bawah kanan -->
  <button class="cart-btn" id="cart-btn">Cart</button>

  <script>
    const cart = JSON.parse(localStorage.getItem('cart')) || {};
    const cartBtn = document.getElementById('cart-btn');
    const popupCart = document.getElementById('popup-cart');
    const closePopupCart = document.getElementById('close-popup-cart');
    const cartItemsList = document.getElementById('cart-items');

    // Fungsi untuk menampilkan popup cart
    function openCartPopup() {
      popupCart.style.display = 'flex';
      renderCartItems();
    }

    // Fungsi untuk menutup popup cart
    function closeCartPopup() {
      popupCart.style.display = 'none';
    }

    // Fungsi untuk merender item cart
    function renderCartItems() {
      cartItemsList.innerHTML = '';
      let total = 0;
      let itemCount = 0;

      for (let id in cart) {
        const product = cart[id];
        const price = product.price * product.quantity;
        total += price;
        itemCount += product.quantity;

        cartItemsList.innerHTML += `
          <li>
            <div style="display: flex; align-items: center;">
              <img src="${product.image}" alt="${product.name}">
              <span>${product.name} x${product.quantity}</span>
            </div>
            <span>Rp${price.toLocaleString()}</span>
          </li>
        `;
      }
    }

    // Event listener untuk tombol cart
    cartBtn.addEventListener('click', openCartPopup);

    // Event listener untuk tombol tutup popup
    closePopupCart.addEventListener('click', closeCartPopup);

    // Render cart items ketika halaman dimuat
    renderCartItems();
  </script>
</body>
</html>
